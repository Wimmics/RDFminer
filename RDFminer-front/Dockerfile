FROM node:18

# Import env variables
ARG RDFMINER_FRONT_PORT
ARG RDFMINER_FRONT_ENDPOINT
ARG RDFMINER_FRONT_SOCKET_ENDPOINT
ENV RDFMINER_FRONT_PORT=$RDFMINER_FRONT_PORT
ENV RDFMINER_FRONT_ENDPOINT=$RDFMINER_FRONT_ENDPOINT
ENV RDFMINER_FRONT_SOCKET_ENDPOINT=$RDFMINER_FRONT_SOCKET_ENDPOINT
# build app...
ENV APP=/app
RUN mkdir $APP
WORKDIR $APP
# installing dependencies
COPY package.json $APP/
RUN cd $APP && npm install
# copy all files in app folder
COPY .   $APP/
# launcher
ENTRYPOINT ["./run.sh"]